import{b as G,c as B}from"./chunk-KERRPVFC.js";import"./chunk-EPRKLT6B.js";import{a as K}from"./chunk-QVPVB6VW.js";import"./chunk-T6CLRISC.js";import{b as Q}from"./chunk-A4IZE6RL.js";import"./chunk-GK6A4HIM.js";import"./chunk-5W2MNWRR.js";import{b as $,c as U,d as H,e as J}from"./chunk-H72WHLWE.js";import{a as O,b as P}from"./chunk-4CJP5RBE.js";import{d as F}from"./chunk-33GP4NFC.js";import"./chunk-732UR5WD.js";import{b as M,c as t,e as N,f as E,h as q,i as L,j as T,k as I,l as V,m as k,n as z}from"./chunk-FRF4WPMZ.js";import{e as j,f as A}from"./chunk-3YROUDBC.js";import"./chunk-TMHMHBU4.js";import"./chunk-3U2UQCJ5.js";import"./chunk-Q52T5SQV.js";import"./chunk-DPUVSD4U.js";import{r as D}from"./chunk-MVQCMINQ.js";import{Gb as l,Hb as x,Qa as s,Rb as _,U as h,Z as m,ba as c,bb as u,ca as g,eb as p,jb as f,kb as y,lb as b,mb as C,mc as R,nb as e,ob as i,pb as a,wb as S,xb as w}from"./chunk-YTQLSVMJ.js";var W=(()=>{class r{static \u0275fac=function(o){return new(o||r)};static \u0275mod=g({type:r});static \u0275inj=h({imports:[D]})}return r})();function re(r,n){if(r&1&&(e(0,"div",30),a(1,"i",31),e(2,"p",32),l(3),i()()),r&2){let d=w().$implicit;s(3),x(d.detail)}}function oe(r,n){if(r&1&&u(0,re,4,1,"div",30),r&2){let d=n.$implicit;f(d.validate()?-1:0)}}function ae(r,n){}function le(r,n){}var X=class r{messages;cdr=m(R);router=m(F);authService=m(K);fb=m(V);_form;constructor(){this._form=this.fb.group({email:["",[t.required,t.email]],remail:["",[t.required,t.email]],bornDate:["",[t.required]],surname:["",[t.required,t.minLength(2)]],name:["",[t.required,t.minLength(4)]],address:["",[t.required,t.minLength(5)]],cif:["",[t.required,t.minLength(9)]],phone:["",[t.required,t.minLength(9)]],password:["",[t.required,t.minLength(2)]],repassword:["",[t.required,t.minLength(2)]]})}ngOnInit(){this.messages=[{severity:"info",detail:"Nombre",validate:()=>this.isValidRequired("name")},{severity:"info",detail:"Apellido",validate:()=>this.isValidRequired("surname")},{severity:"info",detail:"DNI",validate:()=>this.isValidRequired("cif")},{severity:"info",detail:"Fecha Nacimiento",validate:()=>this.isValidRequired("bornDate")},{severity:"info",detail:"Direccion",validate:()=>this.isValidRequired("address")},{severity:"info",detail:"Movil",validate:()=>this.isValidRequired("phone")},{severity:"info",detail:"Email",validate:()=>this.isValidRequired("email")},{severity:"info",detail:"Repetir Email",validate:()=>this.isValidRequired("remail")},{severity:"info",detail:"Contrase\xF1a",validate:()=>this.isValidRequired("password")},{severity:"info",detail:"Repetir contrase\xF1a",validate:()=>this.isValidRequired("repassword")}]}onRegister(){if(this.cdr.markForCheck(),this.form.invalid){this.markAllAsTouched();return}if(this._form.value.password!=this._form.value.repassword)return;let{name:n,surname:d,address:o,email:v,cif:Y,phone:Z,bornDate:ee,password:te}=this.form.value;this.authService.register(n,d,o,v,Y,Z,ee,te).subscribe({next:ne=>{this.router.navigateByUrl("/")},error:()=>{},complete:()=>{}})}markAllAsTouched(){Object.values(this._form.controls).forEach(n=>{n.markAsTouched()})}validatePassword(){return this._form.value.password!=this._form.value.repassword}get form(){return this._form}get registerFormControl(){return this._form.controls}isValidRequired(n){return this._form.get(n)?.valid}static \u0275fac=function(d){return new(d||r)};static \u0275cmp=c({type:r,selectors:[["app-register"]],standalone:!0,features:[_],decls:65,vars:5,consts:[[1,"flex","flex-column","mt-8","mb-5"],[1,"flex","align-items-center","justify-content-center"],[1,"grid"],[1,"col-3"],[1,"card","bg-red-400","p-2","border-round","text-white"],[1,"col-6","grid",3,"formGroup"],[1,"col-6","mb-2"],["pInputText","","id","name","formControlName","name","autocomplete","name",1,"w-full"],["for","name"],["pInputText","","id","surname","formControlName","surname","autocomplete","additional-name",1,"w-full"],["for","surname"],["pInputText","","id","cif","formControlName","cif","autocomplete","dni",1,"w-full"],["for","cif"],["styleClass","w-full","id","bornDate","formControlName","bornDate"],["for","birth_date"],[1,"col-12","mb-2"],["styleclass","w-full"],["pInputText","","id","address","formControlName","address","autocomplete","address-level1","maxlength","150",1,"w-full"],["for","address"],["pInputText","","id","phone","formControlName","phone","autocomplete","phone",1,"w-full"],["for","phone"],[1,"w-full"],["pInputText","","id","email","formControlName","email","autocomplete","email",1,"w-full"],["for","email"],["inputStyleClass","w-full","styleClass","w-full","formControlName","password",3,"feedback"],["for","password"],["pInputText","","id","email","formControlName","remail","autocomplete","email",1,"w-full"],["inputStyleClass","w-full","styleClass","w-full","formControlName","repassword",3,"feedback"],[1,"col-12","flex","align-items-center","justify-content-around"],["label","Enviar",3,"onClick"],[1,"flex","align-content-center"],[1,"pi","pi-info-circle","mr-2"],[1,"m-0","p-0"]],template:function(d,o){d&1&&(e(0,"div",0)(1,"div",1)(2,"h3"),l(3,"Registrar cuenta"),i()()(),e(4,"div",2)(5,"div",3)(6,"div",4),b(7,oe,1,1,null,null,y),i()(),e(9,"form",5)(10,"div",6)(11,"p-floatLabel"),a(12,"input",7),e(13,"label",8),l(14,"Nombre*"),i(),u(15,ae,0,0),i()(),e(16,"div",6)(17,"p-floatLabel"),a(18,"input",9),e(19,"label",10),l(20,"Apellidos*"),i(),u(21,le,0,0),i()(),e(22,"div",6)(23,"p-floatLabel"),a(24,"input",11),e(25,"label",12),l(26,"DNI*"),i()()(),e(27,"div",6)(28,"p-floatLabel"),a(29,"p-calendar",13),e(30,"label",14),l(31,"Fecha nacimiento*"),i()()(),e(32,"div",15)(33,"p-floatLabel",16),a(34,"input",17),e(35,"label",18),l(36,"Direccion*"),i()()(),e(37,"div",15)(38,"p-floatLabel"),a(39,"input",19),e(40,"label",20),l(41,"Movil*"),i()()(),e(42,"div",6)(43,"p-floatLabel",21),a(44,"input",22),e(45,"label",23),l(46,"E-mail*"),i()()(),e(47,"div",6)(48,"p-floatLabel"),a(49,"p-password",24),e(50,"label",25),l(51,"Contrase\xF1a*"),i()()(),e(52,"div",6)(53,"p-floatLabel"),a(54,"input",26),e(55,"label",23),l(56,"Repite e-mail*"),i()()(),e(57,"div",6)(58,"p-floatLabel"),a(59,"p-password",27),e(60,"label",25),l(61,"Repite contrase\xF1a*"),i()()(),e(62,"div",28)(63,"p-button",29),S("onClick",function(){return o.onRegister()}),i()()(),a(64,"div",3),i()),d&2&&(s(7),C(o.messages),s(2),p("formGroup",o.form),s(6),f(o.registerFormControl.name.invalid&&(o.registerFormControl.name.dirty||o.registerFormControl.name.touched)?15:-1),s(6),f(o.registerFormControl.surname.invalid&&(o.registerFormControl.surname.dirty||o.registerFormControl.surname.touched)?21:-1),s(28),p("feedback",!1),s(10),p("feedback",!1))},dependencies:[k,q,M,N,E,I,z,L,T,P,O,J,H,U,$,A,j,B,G,W,Q],changeDetection:0})};export{X as RegisterComponent};
